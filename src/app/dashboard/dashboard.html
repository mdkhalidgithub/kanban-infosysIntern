<div class="header">
  <h2>KANBAN FLOW</h2>
  <button class="logout">LOG OUT</button>
</div>

<div class="board">
  
  <div class="column">
    <div class="column-title">NEW TASK</div>
    <div class="task" *ngFor="let task of newTasks">
      <h4>{{ task.title }}</h4>
      <p>{{ task.project }}</p>
      <span class="date">{{ task.date }}</span>
      <div class="task-actions">
        <button (click)="editTask(task)">Edit</button>
        <button (click)="deleteTask(task.id)">Delete</button>
      </div>
    </div>
    <div class="add-task" (click)="openForm()">+ NEW TASK</div>
  </div>

  
  <div class="column">
    <div class="column-title">IN PROGRESS</div>
    <div class="task" *ngFor="let task of inProgress">
      <h4>{{ task.title }}</h4>
      <p>{{ task.project }}</p>
      <span class="date">{{ task.date }}</span>
      <div class="task-actions">
        <button (click)="editTask(task)">Edit</button>
        <button (click)="deleteTask(task.id)">Delete</button>
      </div>
    </div>
  </div>

  
  <div class="column">
    <div class="column-title">COMPLETED</div>
    <div class="task" *ngFor="let task of completed">
      <h4>{{ task.title }}</h4>
      <p>{{ task.project }}</p>
      <span class="date">{{ task.date }}</span>
      <div class="task-actions">
        <button (click)="editTask(task)">Edit</button>
        <button (click)="deleteTask(task.id)">Delete</button>
      </div>
    </div>
  </div>

  
  <div class="column">
    <div class="column-title">DELIVERED</div>
    <div class="task" *ngFor="let task of delivered">
      <h4>{{ task.title }}</h4>
      <p>{{ task.project }}</p>
      <span class="date">{{ task.date }}</span>
      <div class="task-actions">
        <button (click)="editTask(task)">Edit</button>
        <button (click)="deleteTask(task.id)">Delete</button>
      </div>
    </div>
  </div>
</div>

<div class="modal" *ngIf="showForm" (click)="closeForm()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h3>{{ editingTask ? 'Edit Task' : 'Add New Task' }}</h3>
    <form (ngSubmit)="editingTask ? updateTask() : addTask()">
      <input type="text" [(ngModel)]="newTask.title" name="title" placeholder="Task Title" required>
      <input type="text" [(ngModel)]="newTask.project" name="project" placeholder="Project Name" required>
      <input type="text" [(ngModel)]="newTask.date" name="date" placeholder="DD/MM/YYYY" required>
      <select [(ngModel)]="newTask.status" name="status" required>
        <option value="new">New Task</option>
        <option value="inProgress">In Progress</option>
        <option value="completed">Completed</option>
        <option value="delivered">Delivered</option>
      </select>
      <div class="form-actions">
        <button type="submit">{{ editingTask ? 'Update' : 'Add' }}</button>
        <button type="button" (click)="closeForm()">Cancel</button>
      </div>
    </form>
  </div>
</div>

<div class="delete-popup" *ngIf="showDeletePopup">
  âœ“ Task deleted successfully!
</div>
